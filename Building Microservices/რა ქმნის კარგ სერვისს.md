სანამ MusicCorp-ის გუნდი თავქუდმოგლეჯილი დაიწყებს სერვისის შემდეგ სერვისის შექმნას, იმ მიზნით, რომ ყველგან და ყველას მიაწოდოს რვატრეკიანი კასეტები, მოდი, ცოტათი შევანელოთ და ვისაუბროთ ერთ მთავარ იდეაზე, რომელიც ყოველთვის უნდა გვახსოვდეს. **რა ქმნის კარგ სერვისს?**

თუ Service-Oriented Architecture-ის (SOA) ჩავარდნილ იმპლემენტაციას გადაურჩი, ალბათ უკვე იცი, საით მივდივარ. მაგრამ იმ შემთხვევისთვის, თუ ასეთი (არ)ბედნიერება არ მოგსვლია, მინდა ორი საკვანძო კონცეფცია გაამახვილო ყურადღება: **თვითმყოფადი (slack) კავშირი** და **მაღალი კოჰეზია**. წიგნის განმავლობაში სხვა იდეებსა და პრაქტიკებსაც განვიხილავთ, მაგრამ თუ ამ ორ რაღაცას არასწორად გავაკეთებთ, დანარჩენი ყველაფერი წყალში ჩაიყრება.

მიუხედავად იმისა, რომ ეს ორი ტერმინი ხშირად გამოიყენება, განსაკუთრებით ობიექტზე ორიენტირებულ სისტემებთან მიმართებაში, მაინც ღირს, განვიხილოთ მათი მნიშვნელობა მიკროსერვისების კონტექსტში.

---

#### თვითმყოფადი კავშირი (Loose Coupling)

როცა სერვისები **თვითმყოფად კავშირში არიან**, ერთ სერვისში შეტანილ ცვლილებას არ უნდა სჭირდებოდეს სხვა სერვისის შეცვლა. მიკროსერვისის მთელი აზრი სწორედ ისაა, რომ შეგეძლოს ერთი სერვისის შეცვლა და განთავსება (deploy), სისტემის სხვა ნაწილში ჩარევის გარეშე. ეს ძალიან მნიშვნელოვანი საკითხია.

რა იწვევს მჭიდრო (tight) კავშირს? კლასიკური შეცდომაა ისეთი ინტეგრაციის სტილის არჩევა, რომელიც ერთ სერვისს ძალიან მჭიდროდ აკავშირებს მეორესთან  რის შედეგადაც შიდა ცვლილება მოითხოვს მომხმარებლების მხარესაც ცვლილებებს.

თვითმყოფადი სერვისი მხოლოდ იმდენს იცნობს სხვა სერვისებზე, რამდენიც მას ნამდვილად სჭირდება. ეს ასევე ნიშნავს, რომ, ალბათ, სერვისებს შორის სხვადასხვა ტიპის გამოძახებების რაოდენობაც უნდა შევზღუდოთ, რადგან გარდა პერფორმანსის პრობლემებისა, ზედმეტად „მოლაპარაკე“ კომუნიკაციამ შეიძლება მჭიდრო კავშირიც გამოიწვიოს.


### მაღალი კოჰეზია (High Cohesion)

ჩვენ გვინდა, რომ დაკავშირებული ქცევა იყოს ერთად, ხოლო დაუკავშირებელი ქცევა სხვაგან. რატომ?  
იმიტომ რომ თუ ქცევის შეცვლა გვჭირდება, გვსურს შეგვეძლოს ის **ერთ ადგილას შევცვალოთ** და ეს ცვლილება რაც შეიძლება მალე გამოვუშვათ. თუ იგივე ქცევა ბევრ სხვადასხვა ადგილას უნდა შევცვალოთ, მოგვიწევს მრავალი სხვადასხვა სერვისის გამოშვება (შესაძლოა ერთდროულადაც), რათა ეს ცვლილება დავნერგოთ.

ცვლილებების ბევრ ადგილას შეტანა ნელა მიმდინარეობს, ხოლო ერთდროულად ბევრი სერვისის განთავსება სარისკოა  ორივეს თავიდან უნდა ავირიდოთ.

ამიტომ საჭიროა ჩვენი დომენის შიგნით ისეთი საზღვრების პოვნა, რომლებიც უზრუნველყოფს, რომ დაკავშირებული ქცევა ერთ ადგილას იყოს, ხოლო სხვა საზღვრებთან ურთიერთობა კი **რაც შეიძლება თავისუფლად (loose)** ხდებოდეს.