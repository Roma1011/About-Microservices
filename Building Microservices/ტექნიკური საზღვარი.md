შესაძლებელია, რომ სწორად არ მოდელირებული სერვისების შემთხვევაში **რა შეიძლება წავიდეს არასწორად**.

ერთხელ, რამდენიმე კოლეგასთან ერთად ვმუშაობდით კლიენტთან კალიფორნიაში, კომპანიისთვის **სუფთა კოდის პრაქტიკის დანერგვისა** და **ავტომატური ტესტირებისკენ გადასვლის** მიზნით.

ჩვენ დავიწყეთ მარტივი ნაბიჯებით, როგორიც იყო სერვისების დაშლა, როდესაც შევამჩნიეთ **მნიშვნელოვნად შემაშფოთებელი პრობლემა**.

დეტალებში ვერ შევალ, მაგრამ აპლიკაცია იყო **საზოგადოებისთვის ხელმისაწვდომი** და მას ჰქონდა დიდი, გლობალური მომხმარებელთა ბაზა. გუნდი და სისტემა გაიზარდა: თავიდან ერთი პირის ხედვა იყო, შემდეგ კი სისტემას დაემატა უფრო მეტი ფუნქცია და მომხმარებელი.

საბოლოოდ, ორგანიზაციამ გადაწყვიტა **გუნდის კაპასიტეტის გაზრდა** ახალი ბრაზილიელი დეველოპერების ჩართვით. სისტემა გაიყო:

- აპლიკაციის **წინა ნაწილი** ძირითადად **სტატუს-არასრულყოფილი**, საჯარო ვებსაიტის აღსასრულებლად (იხ. სურათი 3-4)
    
- **უკანა ნაწილი** უბრალოდ იყო **RPC ინტერფეისი მონაცემთა საცავზე**.
    

![[Pasted image 20250907231121.png]]
#### სურათი 3-4

მოკლედ, წარმოიდგინეთ, რომ თქვენი კოდბეისის **რეპოზიტორული ფენა** გამოყოფილია ცალკე სერვისად.

---

მონაცემები ხშირად უნდა გაკეთებულიყო **ორივე სერვისზე**. ორივე სერვისი საუბრობდა **ცხელი, დაბალი დონე, RPC-სტილის მეთოდებით**, რაც იყო **ძალიან დელიკატური** (დეტალურად განხილვა 4-ე თავში).

სერვისის ინტერფეისი ასევე იყო **ძალიან ჩათჩი**, რის გამოც წარმოიქმნა **პერფორმანსის პრობლემები**. ეს საჭიროებდა **გაფართოებულ RPC-batching მექანიზმებს**. მე ამას ვუწოდე **ონიონური არქიტექტურა**, რადგან მას ბევრი ფენა ჰქონდა და მტანჯავდა, როცა მის გადაჭრას ვცდილობდით.

ზოგადად, სისტემა გეოგრაფიულ/ორგანიზაციულ ხაზებზე გაყოფის იდეა **საგრძნობლად აზრიანია**, როგორც უფრო დეტალურად განვიხილავთ 10-ე თავში. აქ კი გუნდი აირჩია **პროგრამულ API-ს ჰორიზონტალური გაჭრა**, მაგივრად **ბიზნეს-ფოკუსირებული ვერტიკალური დაყოფის**.

---

**ტექნიკური საზღვრების მიხედვით სერვისების მოდელირება** ყოველთვის არ არის არასწორი. ხშირად ეს აზრიანია, როდესაც ორგანიზაცია კონკრეტულ **პერფორმანსის მიზნებს** ცდილობს. თუმცა, ეს უნდა იყოს **მეორეხარისხოვანი მოტივი**, არა მთავარი, სერვისების საზღვრების არჩევისას.